<?xml version="1.0" encoding="utf-8"?>
<mx:Window xmlns:mx="http://www.adobe.com/2006/mxml" creationComplete="onCreationComplete();" width="1000" height="650">
	<mx:Script>
		<![CDATA[

			private function onCreationComplete():void
			{
				var host:HTMLBrowserCustomHost = new HTMLBrowserCustomHost();
				this.html.htmlHost = host;
			}

			private function loadUrl():void
			{
				if (locationBar.text.length == 0) return;
				if (locationBar.text.search(/^http(s?):\/\/.+$/) == -1)
				{
					locationBar.text = ("http://" + locationBar.text);
				}
				this.status = "Loading " + locationBar.text;
				html.location = locationBar.text;
			}
			
			private function onHtmlLoadComplete(e:Event):void
			{
				this.status = "Done";
				backButton.enabled = (html.htmlControl.historyLength > 0 && html.htmlControl.historyPosition > 0) ? true : false ;
				forwardButton.enabled = (html.htmlControl.historyLength > 0 && html.htmlControl.historyPosition != (html.htmlControl.historyLength - 1)) ? true : false ;
			}

		]]>
	</mx:Script>
	<mx:VBox width="100%" height="100%">
		<mx:HBox width="100%" horizontalGap="4" paddingLeft="4" paddingRight="4" paddingTop="4">
			<mx:Button label="Back" click="html.htmlControl.historyBack()" enabled="false" id="backButton"/>
			<mx:Button label="Forward" click="html.htmlControl.historyForward()" enabled="false" id="forwardButton"/>
			<mx:TextInput width="90%" id="locationBar" text="{html.location}" enter="loadUrl();"/>
			<mx:Button width="10%" label="Load" click="loadUrl();" enabled="{locationBar.text.length &gt; 0}"/>
		</mx:HBox>
		<mx:HTML width="100%" height="100%" id="html" complete="onHtmlLoadComplete(event)"/>
	</mx:VBox>
</mx:Window>